<!DOCTYPE html>
<html lang="zxx">
   <head>
      <meta charset="utf-8">
      <!-- Responsive meta -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!-- IE Compatibility meta -->
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- Description meta -->
      <meta name="description" content="Kotlin Tool-Kit">
      <!-- Author meta -->
      <meta name="author" content="CodeHelix">

      <!-- Page Title -->
      <title>Slate Kit</title>

      <!-- Favicon -->
      <link rel="shortcut icon" href="themes/perfo/assets/img/favicon.ico">
      <!-- Font Awesome Stylesheet -->
      <link rel="stylesheet" href="themes/perfo/assets/css/font-awesome.css">
      <!-- Bootstrap Stylesheet -->
      <link rel="stylesheet" href="themes/perfo/assets/css/bootstrap.css">
      <!-- Mockup Stylesheet -->
      <link rel="stylesheet" href="themes/perfo/assets/css/device-mockups.min.css">
      <!-- Owl Carousel Stylesheet -->
      <link rel="stylesheet" href="themes/perfo/assets/css/owl.carousel.min.css">
      <!-- Animate.CSS Stylesheet -->
      <link rel="stylesheet" href="themes/perfo/assets/css/animate.css">
      <!-- Animate.CSS Stylesheet -->
      <link rel="stylesheet" href="themes/perfo/assets/css/preloader.css">
      <!-- Custom Stylesheet -->
      <link rel="stylesheet" href="themes/perfo/assets/css/style.default.css">

      <link rel="stylesheet" type="text/css" href="themes/_common/css/lang.css" media="screen">

      <link rel="stylesheet" href="themes/perfo/app/app.css">
   </head>
   <body>


      <div class="page-header">
          <!--=============== Navbar ===============-->
          <nav class="navbar fixed-top navbar-toggleable-md">
              <div class="container">

                  <div class="navbar-header">
                      <!-- Navbar Brand -->
                      <a href="index.html" class="navbar-brand">
                          <strong class="brand-text">Slate Kit</strong>
                      </a>

                    <!-- Toggle Button -->
                      <button type="button" class="navbar-toggler navbar-toggler-right" data-toggle="collapse" data-target="#navbarcollapse" aria-controls="navbarcollapse" aria-expanded="false" aria-label="Toggle navigation">
                          MENU
                      </button>
                  </div>

                  <div class="collapse navbar-collapse" id="navbarcollapse">
                      <!-- Navbar Menu -->
                      <ul id="navigation" class="navbar-nav ml-auto">
                          
                      </ul>
                  </div>

              </div>
          </nav><!--=============== /. Navbar ===============-->


          <!--=============== Separator Section ===============-->
          <section id="sparator" class="separator no-padding-bottom padding-top-small has-background-text has-gradient" data-text="Slate Kit">
              <div class="container">

                  <div class="row">
                      <!-- Mockup Image  -->
                      <div class="image col-md-6 hidden-sm-down">
                          <img src="themes/perfo/assets/img/iphone.png" alt="...." class="img-fluid">
                      </div>
                     
                      <!-- Heading Area -->
                      <div class="text text-right col-md-6 col-sm-12">
                          <h2 class="h1 has-text-shadow">Components <br/> </h2>
                      </div>
                  </div>

              </div>
          </section>
          <!--=============== /. Separator Section ===============-->


          <!--=============== About Section ===============-->
          <section id="about" class="about no-padding-bottom">
              <div class="container">

                  <header>
                      <h2 class="with-bg-text has-line" data-text="App">App</h2>
                  </header>
				<p>The Slate App is base application and template to build console, batch, cli and server applications.
				It has pre-built support for common features such as <strong>command line args</strong>, <strong>environment selection</strong>, 
				<strong>configs per environment</strong>, <strong>logging</strong>, <strong>life-cycle events</strong>, <strong>diagnostics</strong> and much more.
				This is accomplished by integrating some of the components and utilities available in the <a href="utils.html" class="url-ch">Slate Kit common</a> project.
				</p>				
				<br/>
				<div class="row">					
					<div class="">
						<div id="project-slate-common" class="thumbnail">
							<a href="utils.html"><img src="themes/start/images/white/desktop.png" alt="..." width="80"></a>
							
							<div class="caption">
								<div class="text-center">
									<h3 >Slate Kit Base App</h3>
									<p>pre-built support for command line args,
							environment selection, config settings, logging and much more.</p>
									<br/>
								</div>
												
								<div class="row text-center">
									<div class="col-sm-2"><img src="themes/start/images/white/terminal.png" width="50" alt=""></div>
									<div class="col-sm-2"><img src="themes/start/images/white/nodes.png" width="50" alt=""></div>
									<div class="col-sm-2"><img src="themes/start/images/white/settings.png" width="45" alt=""></div>
									<div class="col-sm-2"><img src="themes/start/images/white/info.png" width="40" alt=""></div>
									<div class="col-sm-2"><img src="themes/start/images/white/error.png" width="40" alt=""></div>
									<div class="col-sm-2"><img src="themes/start/images/white/diagnostic.png" width="30" alt=""></div>
								</div><br/>
								<table class="table table-bordered table-striped">
									<tr>
										<td><strong>package</strong></td>
										<td>slatekit.core.app</td>
									</tr>
									<tr>
										<td><strong>jar</strong></td>
										<td>slatekit.core.jar</td>
									</tr>
									<tr>
										<td><strong>source</strong></td>
										<td><a class="url-ch" href="https://github.com/code-helix/slatekit/tree/master/src/lib/kotlin/slatekit-core/src/main/kotlin/slatekit/core/app">slatekit.core.app</a></td>
									</tr>
									<tr>
										<td><strong>sample</strong></td>
										<td><a class="url-ch" href="https://github.com/code-helix/slatekit/tree/master/src/apps/kotlin/slatekit-sampleapps/sampleapp-batch">SampleApp-Batch</a> : Full sample application </td>
									</tr>
									<tr>
										<td><strong>example</strong></td>
										<td><a class="url-ch" href="https://github.com/code-helix/slatekit/tree/master/src/apps/kotlin/slatekit-examples/src/main/kotlin/slatekit/examples/Example_App.kt">Example_App.kt</a> : Small reference example on setup/usage</td>
									</tr>
									<tr>
										<td><strong>license</strong></td>
										<td>free : open-source</td>
									</tr>
									<tr>
										<td><strong>dependencies</strong></td>
										<td>								
											<ul>
												<li>slatekit-common.jar</li>
											</ul>
										</td>
									</tr>
									<tr>
										<td><strong>notes</strong></td>
										<td>														
											<ul>
												<li>The base app is contained in the slatekit.core project</li>
												<li>The base app can be easily sub-classed and much of the functionality can be customized</li>
												<li>Slate Kit Core has several other architechtural components</li>
											</ul>
										 </td>
									</tr>
									<tr>
										<td><img src="themes/start/images/white/manual.png" width="50" alt=""></td>
										<td>Check sample app ( containing a full sample code ), 
										the example ( smaller reference on usage ), and source code for more info.
										</td>
									</tr>
								</table>
							</div>
							<!--
							<div class="alert alert-warning text-left" role="alert">
								<p><i class="fa fa-link"></i> This feature uses the <strong><a href="kotlin-mod-env.html" class="url-ch">Env</a></strong> component in utils to setup logical application environments such as local, dev, qa, uat, live.
								</p>
							</div>
							-->
						</div>
					</div>
				</div>
				
				<h1 id="app-goals">Goals</h1>
				<table class="table table-bordered table-striped">
					<tr>
						<td><strong>Goal</strong></td>
						<td><strong>Description</strong></td>
					</tr>
					<tr>
						<td><strong>1. Template</strong></td>
						<td>Provide template for any application 
						( Console, Batch, CLI, Server )</td>
					</tr>
					<tr>
						<td><strong>2. Features</strong> </td>
						<td>Provide pre-built support commandline args, 
						config, logging, and more.</td>						
					</tr>
					<tr>
						<td><strong>3. Standardized</strong></td>
						<td>Provide standardized setup, functionality and diagnostics</td>
						</td>						
					</tr>
				</table>				
				<br/>
				
				<h1 id="app-concepts">Concepts</h1>
				<table class="table table-bordered table-striped">
					<tr>
						<td><strong>Concept</strong></td>
						<td><strong>Description</strong></td>
					</tr>
					<tr>
						<td><strong>1. Life-cycle</strong></td>
						<td>The app component is a base class, with support for life-cycle events ( check, init, accept, execute, shutdown )</td>
					</tr>
					<tr>
						<td><strong>2. Envs</strong></td>
						<td>Environment selection ( local, dev, qa, stg, prod, etc ) is available with integration with respective config files.</td>
					</tr>
					<tr>
						<td><strong>3. Overrides</strong></td>
						<td>Support for overriding <strong>some</strong> settings on the command line with what is set up in the configuration file(s)</td>
					</tr>
					<tr>
						<td><strong>4. Context</strong></td>
						<td>Container for services and items such as selected environment ( local, dev, etc ), config, logger, encryptor.</td>
					</tr>
					<tr>
						<td><strong>5. Help</strong></td>
						<td>Support for app information, version, and command line args, is made available through config files and/or code</td>
					</tr>
				</table>
				<br/>
				
				<h1 id="app-features">Features</h1>
				<table class="table table-bordered table-striped">
					<tr>
						<td><strong>Feature</strong></td>
						<td><strong>Description</strong></td>
						<td><strong>Example</strong></td>
					</tr>
					<tr> 
						<td><strong>1. Args</strong></td>
						<td><a class="url-ch" href="kotlin-mod-args.html">Arguments</a> from command line ( which can override some config settings )
						</td>
						<td>-env=dev -log.level=info -region=ny</td>
					</tr>
					<tr> 
						<td><strong>2. Envs</strong></td>
						<td><a class="url-ch" href="kotlin-mod-env.html">Environment</a> selection and validation support</td>
						<td>local, dev, qa, stg, pro</td>
					</tr>
					<tr> 
						<td><strong>3. Logs</strong></td>
						<td><a class="url-ch" href="kotlin-mod-logger.html">Logging</a> and error handling ( any log provider can be easily added )</td>
						<td>console / file logger, custom logger</td>
					</tr>
					<tr> 
						<td><strong>4. Config</strong></td>
						<td><a class="url-ch" href="kotlin-mod-config.html">Configuration</a> files for each environment ( with support for config inheritance )</td>
						<td>env.conf, env.local.conf, env.qa.conf</td>
					</tr>
					<tr> 
						<td><strong>5. Settings</strong></td>
						<td>Settings can be in config, encrypted, or a file in user folder ( for added security )</td>
						<td>${user}/mycompany/myapp/database.conf</td>
					</tr>
					<tr> 
						<td><strong>6. Encryption</strong></td>
						<td><a class="url-ch" href="kotlin-mod-encrypt.html">Encryption</a>  and decryption support</td>
						<td>Using AES</td>
					</tr>
					<tr> 
						<td><strong>7. Life-cycle</strong></td>
						<td>Application life-cycle events</td>
						<td>check(), init(), accept(), execute(), shutdown()</td>
					</tr>
					<tr> 
						<td><strong>8. Context</strong></td>
						<td><a class="url-ch" href="kotlin-mod-ctx.html">Application Context</a> to contain and provide access to many services</td>
						<td>encryptor, logger, settings, environment, etc</td>
					</tr>
					<tr> 
						<td><strong>9. Help</strong></td>
						<td><a class="url-ch" href="kotlin-mod-info.html">App Info</a>, version, and command line args can be displayed</td>
						<td>on command line type {app} ? | help | about </td>
					</tr>
					<tr> 
						<td><strong>10. Output</strong></td>
						<td>Full display of app info and diagnostics can be shown at beginning or end of app</td>
						<td>info, version, start time/end time, etc</td>
					</tr>
				</table>
				<br/>
				
				
				<h1 id="app-usage">Usage</h1>
				<p>The App template is used as the base class for all Slate application types.
				This makes creation, setup, and execution of any app type consistent and very simple.
				</p>
				<table class="table table-bordered table-striped">
					<tr>
						<td><strong>App Type</strong></td>
						<td><strong>Description</strong></td>
						<td><strong>Example</strong></td>
					</tr>
					<tr> 
						<td><strong>1. Console</strong></td>
						<td>A console application for 1 time/batch/scheduled apps</td>
						<td><a class="url-ch" href="releases.html">Download the sample apps</a></td>
					</tr>
					<tr> 
						<td><strong>2. CLI </strong></td>
						<td>The CLI( Command Line Interface ) to your APIs</td>
						<td><a class="url-ch" href="releases.html">Download the sample apps</a></td>
					</tr>
					<tr> 
						<td><strong>3. Server</strong></td>
						<td>The web server hosting your APIs</td>
						<td><a class="url-ch" href="releases.html">Download the sample apps</a></td>
					</tr>
				</table>
				<br/>
				
				<h1 id="app-overview">Details</h1>
				<table class="table table-bordered table-striped">
					<tr>
						<td><strong>Step</strong></td>
						<td><strong>About</strong></td>
						<td><strong>Docs</strong></td>
					</tr>
					<tr> 
						<td><strong>1. Setup</strong></td>
						<td>How to create and setup your app to use the base app</td>
						<td><a href="#app-setup" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>2. Environments</strong></td>
						<td>The various environments available for selection.</td>
						<td><a href="#app-env" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>3. Config files</strong></td>
						<td>The configuration files associated with each environment</td>
						<td><a href="#app-config" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>4. Settings</strong></td>
						<td>Settings stored in the configuration files</td>
						<td><a href="#app-settings" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>5. Arguments </strong></td>
						<td>The startup process of any type of app( Console, CLI, Server )</td>
						<td><a href="#app-arguments" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>6. About </strong></td>
						<td>Set up information about your app for help/doc purposes on the command line</td>
						<td><a href="#app-info" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>7. Help </strong></td>
						<td>Set up information about your app for help/doc purposes on the command line</td>
						<td><a href="#app-help" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>8. Context</strong></td>
						<td>The Context object available in all apps</td>
						<td><a href="#app-context" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>9. Life-cycle</strong></td>
						<td>The application life-cycle</td>
						<td><a href="#app-life-cycle" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>10. Execution</strong></td>
						<td>The Context object available in all apps</td>
						<td><a href="#app-exec" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
					<tr> 
						<td><strong>12. Output</strong></td>
						<td>Display important information before and after application execution.</td>
						<td><a href="#app-output" class="more"><span class="btn btn-primary">more</span></a></td>
					</tr>
				</table>
				
			</div>			
			<br/><br/>
			<div class="container">
				<h1 id="app-setup">Setup</h1>
				<p>You can create a new Application by subclassing <strong>AppProcess</strong>. You can run the app using the <strong>AppRunner</strong> helper class
				</p>
				<h3>Example</h3>
				<div class="highlighter-rouge"><pre class="highlight"><code>  <span class="c1">// Step 1: Extend your application from AppProcess which
</span>  <span class="c1">// provides life-cycle methods, and much of the boiler-plate code.
</span>  <span class="c1">//
</span>  <span class="c1">// NOTE: Ensure your environment files are setup:
</span>  <span class="c1">// Refer to sample app for more info.
</span>  <span class="c1">// - resources/env.conf
</span>  <span class="c1">// - resources/env.local.conf
</span>  <span class="c1">// - resources/env.dev.conf
</span>  <span class="c1">//
</span>  <span class="c1">// CONTEXT:
</span>  <span class="c1">// The AppProcess must have an AppContext ( see docs online and example below for more info)
</span>  <span class="c1">// which is a container to store core dependencies such as
</span>  <span class="c1">// - selected environment
</span>  <span class="c1">// - config settings
</span>  <span class="c1">// - logger
</span>  <span class="c1">// - encryptor
</span>  <span class="c1">// - info about app
</span>  <span class="c1">//
</span>  <span class="c1">// There are different ways you can build up the context
</span>  <span class="c1">// 1. Manually      ( explictly supply the components - see below )
</span>  <span class="c1">// 2. Automatically ( using helper functions to that check command line args )
</span>  <span class="kd">class</span> <span class="nc">SimpleApp</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">AppContext</span><span class="p">)</span> <span class="p">:</span> <span class="n">AppProcess</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="p">{</span>

      <span class="cm">/**
       * Life-cycle init hook: for your app to perform any initialization
       */</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">onInit</span><span class="p">():</span> <span class="n">Unit</span> <span class="p">{</span>
          <span class="n">println</span><span class="p">(</span><span class="s">"app initialized"</span><span class="p">)</span>
      <span class="p">}</span>
  
  
      <span class="cm">/**
       * Life-cycle execution hook: for your app to perform the main logic
       *
       * @return
       */</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">onExecute</span><span class="p">():</span> <span class="n">Result</span><span class="p">&lt;</span><span class="n">Any</span><span class="p">&gt;</span> <span class="p">{</span>
  
          <span class="c1">// Get access to context which has everything ( e.g env name )
</span>          <span class="n">println</span><span class="p">(</span><span class="n">ctx</span><span class="p">.</span><span class="n">env</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
  
          <span class="c1">// Execute your work here.
</span>          <span class="n">info</span><span class="p">(</span><span class="s">"app executing now"</span><span class="p">)</span>
  
          <span class="k">return</span> <span class="n">ok</span><span class="p">()</span>
      <span class="p">}</span>
  
  
      <span class="cm">/**
       * Life-cycle end hook: called when app is shutting down
       */</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">onEnd</span><span class="p">():</span> <span class="n">Unit</span> <span class="p">{</span>
          <span class="n">info</span><span class="p">(</span><span class="s">"app shutting down"</span><span class="p">)</span>
      <span class="p">}</span>
  
  
      <span class="cm">/**
       * template method: allows you to build up info to show in the summary
       * displayed at the end of the application
       */</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">collectSummaryExtra</span><span class="p">():</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Pair</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&gt;&gt;?</span> <span class="p">{</span>
          <span class="k">return</span> <span class="n">listOf</span><span class="p">(</span>
                  <span class="n">Pair</span><span class="p">(</span><span class="n">ctx</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">about</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="s">" extra 1  = extra summary data1"</span><span class="p">),</span>
                  <span class="n">Pair</span><span class="p">(</span><span class="n">ctx</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">about</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="s">" extra 2  = extra summary data2"</span><span class="p">)</span>
          <span class="p">)</span>
      <span class="p">}</span>
  <span class="p">}</span>

</code></pre>
</div>
			<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
			<br/><br/><br/>
			</div>
			<div class="container">
				<h1 id="app-env">2. Environments</h1>
				<p>You can setup different environments ( local, dev, qa1, qa2, etc ) for your application and have the app validate, describe, and also load the corresponding config file for the environment.<p>
				<div class="alert alert-warning text-left" role="alert">
					<p><i class="fa fa-link"></i> This feature uses the <strong><a href="kotlin-mod-env.html" class="url-ch">Env</a></strong> component in utils to setup logical application environments such as local, dev, qa, uat, live.
					</p>
				</div>
				<h3>a) Concept</h3>
				<p>The env component represent logical environments that typically existing for most applications. The following represent the typical environments and are available by default. Since environments need to have config files (see next section below) and some environments may share common config settings, there is the concept of a base or <strong>common</strong> environment which the other environments are based from.<p>
				<table class="table table-bordered table-striped">
					<tr class="">
						<td><strong>Env</strong></td>
						<td><strong>Desc</strong></td>
						<td><strong>Parent</strong></td>
					</tr>
					<tr>
						<td><strong>Common</strong></td>
						<td>Common</td>
						<td>-</td>
					</tr>
					<tr>
						<td><strong>Loc</strong></td>
						<td>Development ( local )</td>
						<td>Common</td>
					</tr>
					<tr>
						<td><strong>Dev</strong></td>
						<td>Development ( shared )</td>
						<td>Common</td>
					</tr>
					<tr>
						<td><strong>QA 1</strong></td>
						<td>Quality Assurance / Test 1</td>
						<td>Common</td>
					</tr>
					<tr>
						<td><strong>QA 2</strong></td>
						<td>Quality Assurance / Test 2</td>
						<td>Common</td>
					</tr>
					<tr>
						<td><strong>Stg</strong></td>
						<td>Staging / Beta </td>
						<td>Common</td>
					</tr>
					<tr>
						<td><strong>Prod</strong></td>
						<td>Production / Live</td>
						<td>Common</td>
					</tr>
				</table>
				<h3>b) Defaults</h3>
				<p>In code, an environment is represented as an EnvItem. The default environments listed above are already setup
				in the base App component.</p>
<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="cm">/**
 * The list of defaults environments to choose from.
 * An environment definition is defined by its name, mode
 * The key is built up from name and mode as {name}.{mode}
 * e.g. "qa1.QA"
 *
 * Each of these environments should map to an associated env.{name}.conf
 * config file in the /resources/ directory. But there is no dependency
 * on this Env component to a Config component
 *
 * e.g.
 * /resources/env.conf     ( common      config )
 * /resources/env.loc.conf ( local       config )
 * /resources/env.dev.conf ( development config )
 * /resources/env.qa1.conf ( qa1         config )
 * /resources/env.qa2.conf ( qa2         config )
 * /resources/env.stg.conf ( staging     config )
 * /resources/env.pro.conf ( production  config )
 *
 * @return
 */</span>
<span class="k">fun</span> <span class="nf">defaults</span><span class="p">():</span> <span class="n">Envs</span> <span class="p">=</span>
	<span class="n">Envs</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span>
        <span class="n">Env</span><span class="p">(</span><span class="s">"loc"</span><span class="p">,</span> <span class="n">Dev</span> <span class="p">,</span> <span class="n">desc</span> <span class="p">=</span> <span class="s">"Dev environment (local)"</span><span class="p">),</span>
        <span class="n">Env</span><span class="p">(</span><span class="s">"dev"</span><span class="p">,</span> <span class="n">Dev</span> <span class="p">,</span> <span class="n">desc</span> <span class="p">=</span> <span class="s">"Dev environment (shared)"</span><span class="p">),</span>
        <span class="n">Env</span><span class="p">(</span><span class="s">"qa1"</span><span class="p">,</span> <span class="n">Qa</span>  <span class="p">,</span> <span class="n">desc</span> <span class="p">=</span> <span class="s">"QA environment  (current release)"</span><span class="p">),</span>
        <span class="n">Env</span><span class="p">(</span><span class="s">"qa2"</span><span class="p">,</span> <span class="n">Qa</span>  <span class="p">,</span> <span class="n">desc</span> <span class="p">=</span> <span class="s">"QA environment  (last release)"</span><span class="p">),</span>
        <span class="n">Env</span><span class="p">(</span><span class="s">"stg"</span><span class="p">,</span> <span class="n">Uat</span> <span class="p">,</span> <span class="n">desc</span> <span class="p">=</span> <span class="s">"STG environment (demo)"</span><span class="p">),</span>
        <span class="n">Env</span><span class="p">(</span><span class="s">"pro"</span><span class="p">,</span> <span class="n">Prod</span><span class="p">,</span> <span class="n">desc</span> <span class="p">=</span> <span class="s">"LIVE environment"</span><span class="p">)</span>
    <span class="p">))</span>
</code></pre>
</div>				
				<br/>
				<h3>c) Config</h3>
				<p>You can set the selected environment in the common <strong>/resources/env.conf</strong> config file as follows. 
				<br/>This references the name of the environment which matches the corresponding conf file. e.g. <strong>qa1</strong> = <strong>env.qa1.conf</strong></p>
				<div class="highlighter-rouge"><pre class="highlight"><code>  <span class="c"># environment selection</span>
  <span class="c"># this can be overriden on the commandline via -env=qa</span>
  <span class="n">env</span> <span class="o">=</span> <span class="s">"qa1"</span>
 
</code></pre>
</div>

				<p>You can set various environment properties in the environment specific config file <strong>/resources/env.qa1.conf</strong> as follows</p>
<div class="highlighter-rouge"><pre class="highlight"><code>  
  <span class="c"># set the environment name, mode, and description</span>
  <span class="n">env.name</span> <span class="o">=</span> <span class="s">"qa1"</span>
  <span class="n">env.mode</span> <span class="o">=</span> <span class="s">"qa"</span>
  <span class="n">env.desc</span> <span class="o">=</span> <span class="s">"Quality Assurance Test Environment 1"</span>
 
</code></pre>
</div>
				<br/>
				<h3>d) Args</h3>
				<p>You can set the environment as as command line arg with the following syntax. The command line will override the config setting.</p>

<div class="highlighter-rouge"><pre class="highlight"><code> <span class="n">java</span> <span class="p">-</span><span class="n">cp</span> <span class="s">"%APP_CLASSPATH%"</span> <span class="n">slatekit</span><span class="p">.</span><span class="n">sampleapp</span><span class="p">.</span><span class="n">batch</span><span class="p">.</span><span class="n">SampleAppBatchKt</span> <span class="p">-</span><span class="n">conf</span><span class="p">.</span><span class="n">dir</span><span class="p">=</span><span class="err">'</span><span class="n">file</span><span class="p">:</span><span class="c1">//./conf/sampleapp-batch/'
</span> <span class="n">java</span> <span class="p">-</span><span class="n">cp</span> <span class="s">"%APP_CLASSPATH%"</span> <span class="n">slatekit</span><span class="p">.</span><span class="n">sampleapp</span><span class="p">.</span><span class="n">batch</span><span class="p">.</span><span class="n">SampleAppBatchKt</span> <span class="p">-</span><span class="n">env</span><span class="p">=</span><span class="n">dev</span> <span class="p">-</span><span class="n">log</span><span class="p">.</span><span class="n">level</span><span class="p">=</span><span class="n">info</span> <span class="p">-</span><span class="n">config</span><span class="p">.</span><span class="n">location</span> <span class="p">=</span> <span class="s">"jars"</span>
 <span class="n">java</span> <span class="p">-</span><span class="n">cp</span> <span class="s">"%APP_CLASSPATH%"</span> <span class="n">slatekit</span><span class="p">.</span><span class="n">sampleapp</span><span class="p">.</span><span class="n">batch</span><span class="p">.</span><span class="n">SampleAppBatchKt</span> <span class="p">-</span><span class="n">env</span><span class="p">=</span><span class="n">dev</span> <span class="p">-</span><span class="n">log</span><span class="p">.</span><span class="n">level</span><span class="p">=</span><span class="n">info</span> <span class="p">-</span><span class="n">config</span><span class="p">.</span><span class="n">location</span> <span class="p">=</span> <span class="s">"conf"</span>
 <span class="n">java</span> <span class="p">-</span><span class="n">cp</span> <span class="s">"%APP_CLASSPATH%"</span> <span class="n">slatekit</span><span class="p">.</span><span class="n">sampleapp</span><span class="p">.</span><span class="n">batch</span><span class="p">.</span><span class="n">SampleAppBatchKt</span> <span class="p">-</span><span class="n">env</span><span class="p">=</span><span class="n">dev</span> <span class="p">-</span><span class="n">log</span><span class="p">.</span><span class="n">level</span><span class="p">=</span><span class="n">info</span> <span class="p">-</span><span class="n">config</span><span class="p">.</span><span class="n">location</span> <span class="p">=</span> <span class="s">"file://./conf-sample-batch"</span>
 <span class="n">java</span> <span class="p">-</span><span class="n">cp</span> <span class="s">"%APP_CLASSPATH%"</span> <span class="n">slatekit</span><span class="p">.</span><span class="n">sampleapp</span><span class="p">.</span><span class="n">batch</span><span class="p">.</span><span class="n">SampleAppBatchKt</span> <span class="p">--</span><span class="n">version</span>
 <span class="n">java</span> <span class="p">-</span><span class="n">cp</span> <span class="s">"%APP_CLASSPATH%"</span> <span class="n">slatekit</span><span class="p">.</span><span class="n">sampleapp</span><span class="p">.</span><span class="n">batch</span><span class="p">.</span><span class="n">SampleAppBatchKt</span> <span class="p">--</span><span class="n">about</span>
 <span class="n">java</span> <span class="p">-</span><span class="n">cp</span> <span class="s">"%APP_CLASSPATH%"</span> <span class="n">slatekit</span><span class="p">.</span><span class="n">sampleapp</span><span class="p">.</span><span class="n">batch</span><span class="p">.</span><span class="n">SampleAppBatchKt</span> <span class="p">?</span>

</code></pre>
</div>
				<br/>
				<h3>e) Access</h3>
				<p>You can access the selected environment in the code via the <strong>env</strong> data member.</p>
				<div class="highlighter-rouge"><pre class="highlight"><code>

    <span class="cm">/**
     * Life-cycle execution hook: for your app to perform the main logic
     *
     * @return
     */</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onExecute</span><span class="p">():</span> <span class="n">Result</span><span class="p">&lt;</span><span class="n">Any</span><span class="p">&gt;</span> <span class="p">{</span>

        <span class="c1">// Get access to context which has everything ( e.g env name )
</span>        <span class="n">println</span><span class="p">(</span><span class="s">"environment is: "</span> <span class="p">+</span> <span class="n">ctx</span><span class="p">.</span><span class="n">env</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>

        <span class="c1">// Execute your work here.
</span>        <span class="n">info</span><span class="p">(</span><span class="s">"app executing now"</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ok</span><span class="p">()</span>
    <span class="p">}</span>
</code></pre>
</div>
				<br/>
				<div class="alert alert-info text-left" role="alert">
					<p><i class="fa fa-info-circle"></i></p>
					<ol>					  
					  <li>You can create custom environments, refer to <strong><a href="kotlin-mod-env.html" class="url-ch">Env</a></strong> for more info</li>
					  <li><strong>AppFuncs.scala</strong> contains misc convenience functions used in the App component.<strong></strong></li>
					</ol>
				</div>
				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<br/><br/><br/>
			</div>
			<div class="container">			
				<h1 id="app-config">3. Configuration</h1>
				<p>All the different types of Apps and Sample Apps using a common configuration scheme.
				For each app, there is a single common configuration file <strong>env.conf</strong> and then
				1 environment specific configuration file for each environment. e.g. <strong>env.dev.conf</strong>
				All the environment configs are located in the <strong>resources</strong> directory. Slate Kit supports inherited configs, so you can setup your env.dev.conf to inherit from env.conf.
				</p>
				<div class="alert alert-warning text-left" role="alert">
					<p><i class="fa fa-link"></i> This feature uses the <strong><a href="kotlin-mod-config.html" class="url-ch">Config</a></strong> component in utils to load and access config files.
					</p>
				</div>
				<h3>a) Concept</h3>
				<table class="table table-bordered table-striped">
					<tr class="">
						<td><strong>Env</strong></td>
						<td><strong>File</strong></td>
						<td><strong>Parent</strong></td>
						<td><strong>Desc</strong></td>
					</tr>
					<tr>
						<td><strong>Common</strong></td>
						<td>/resources/env.conf</td>
						<td>-</td>
						<td>Common config</td>
					</tr>
					<tr>
						<td><strong>Loc</strong></td>
						<td>/resources/env.<strong>loc</strong>.conf</td>
						<td>env.conf</td>
						<td>Development ( local )</td>
					</tr>
					<tr>
						<td><strong>Dev</strong></td>
						<td>/resources/env.<strong>dev</strong>.conf</td>
						<td>env.conf</td>
						<td>Development ( shared )</td>
					</tr>
					<tr>
						<td><strong>QA</strong></td>
						<td>/resources/env.<strong>qa1</strong>.conf</td>
						<td>env.conf</td>
						<td>Quality Assurance / Test</td>
					</tr>
					<tr>
						<td><strong>Stg</strong></td>
						<td>/resources/env.<strong>stg</strong>.conf</td>
						<td>env.conf</td>
						<td>Staging / Beta </td>
					</tr>
					<tr>
						<td><strong>Prod</strong></td>
						<td>/resources/env.<strong>pro</strong>.conf</td>
						<td>env.conf</td>
						<td>Production / Live</td>
					</tr>
				</table>
				<br/>
				<h3>Example 1: Common config ( env.conf )</h3>
				<p>You can keep all the settings that are common to all environments in this common config.
					Some examples of common settings are application info.
				</p>
				<div class="highlighter-rouge"><pre class="highlight"><code>
  <span class="c"># environment selection</span>
  <span class="c"># this can be overriden on the commandline via -env=qa</span>
  <span class="n">env</span> <span class="o">=</span> <span class="s">"loc"</span>
  
  <span class="c"># This config file is :</span>
  <span class="c"># 1. common to all other config files</span>
  <span class="c"># 2. inherited by all other config files.</span>
  <span class="c"># 3. settings can be overriden in the derived files.</span>
  <span class="c"># these can be overriden in each of the environment specific config files</span>
  <span class="c"># e.g.</span>
  <span class="c"># dev = env.dev.conf ( development )</span>
  <span class="n">app</span><span class="o">.</span><span class="nb">id</span>      <span class="o">=</span> <span class="s">"slate.examples"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">company</span> <span class="o">=</span> <span class="s">"codehelix"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">name</span>    <span class="o">=</span> <span class="s">"Sample App"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">desc</span>    <span class="o">=</span> <span class="s">"Sample console application to show the base application features"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">region</span>  <span class="o">=</span> <span class="s">"ny"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="s">"0.9.1"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">url</span>     <span class="o">=</span> <span class="s">"http://sampleapp.slatekit.com"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">group</span>   <span class="o">=</span> <span class="s">"codehelix.co"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">contact</span> <span class="o">=</span> <span class="s">"kishore@abc.co"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">tags</span>    <span class="o">=</span> <span class="s">"slate,shell,cli"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">examples</span> <span class="o">=</span> <span class="s">"sampleapp -env=dev -log.level=debug -region='ny' -enc=false"</span>

</code></pre>
</div>			
				<br/>
				<h3>Example 2: Environment specific ( env.qa.conf )</h3>
				<p>You can override any settings from common config in the environment specific configs. For example, you can override database settings for QA and make them encrypted</p>
				<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># Example: Override the db settings for this environment</span>
<span class="c"># and use encrypted values.</span>
<span class="n">db</span><span class="o">.</span><span class="n">enabled</span>     <span class="o">=</span> <span class="n">true</span>
<span class="n">db</span><span class="o">.</span><span class="n">source</span>      <span class="o">=</span> <span class="s">"conf"</span>
<span class="n">db</span><span class="o">.</span><span class="n">driver</span>      <span class="o">=</span> <span class="s">"com.mysql.jdbc.Driver"</span>
<span class="n">db</span><span class="o">.</span><span class="n">url</span>         <span class="o">=</span> <span class="s">"jdbc:mysql://localhost/QA1"</span>
<span class="n">db</span><span class="o">.</span><span class="n">user</span>        <span class="o">=</span> <span class="s">"7g7bENenJnO2RCZ9iBnBZw"</span>
<span class="n">db</span><span class="o">.</span><span class="n">pswd</span>        <span class="o">=</span> <span class="s">"8r4AbhQyvlzSeWnKsamowA"</span>

</code></pre>
</div>
				<br/>
				<h3>Example 3: Reference Config file in user directory.</h3>
				<p>For added security, you can extract some settings into a separate config file that is kept in the <strong>user</strong> directory. 
				The user directory on windows would be <strong>C:/users/${user}</strong>
				You can create separate config files for different settings such as database, AWS, etc. 
				See the settings section for more info</p>
				<div class="highlighter-rouge"><pre class="highlight"><code>
  <span class="c"># Example: Override the db settings for prod to indicate</span>
  <span class="c"># loading the info from a file called "db-pro.txt" from the users folder.</span>
  <span class="c"># e.g. /&lt;user&gt;/&lt;company&gt;/&lt;app&gt;/db.pro.txt</span>
  <span class="c">#</span>
  <span class="c"># This is an added security measure to avoid production settings</span>
  <span class="c"># being stored in the config directory/files. User folder is :</span>
  <span class="c">#</span>
  <span class="c"># 1. more secure</span>
  <span class="c"># 2. not stored in source control</span>
  <span class="c"># 3. stored in /&lt;user&gt;/&lt;company&gt;/&lt;app&gt;/db.pro.txt</span>
  <span class="c">#</span>
  <span class="c"># NOTE: This is a pattern recommended by amazon.</span>
  <span class="n">db</span><span class="o">.</span><span class="n">location</span>  <span class="o">=</span> <span class="s">"user://mycompany/app1/conf/db-pro.conf"</span>

</code></pre>
</div>				
				<br/>
				<h3>Example 4: User directory (extract settings into separate file in user directory )</h3>
				<p>Settings can be simply copied pasted into a separate config file and stored in the user folder.
				e.g. db.pro.txt</p>
<div class="highlighter-rouge"><pre class="highlight"><code>
  <span class="n">db</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="s">"com.mysql.jdbc.Driver"</span>
  <span class="n">db</span><span class="o">.</span><span class="n">url</span>    <span class="o">=</span> <span class="s">"jdbc:mysql://localhost/test1"</span>
  <span class="n">db</span><span class="o">.</span><span class="n">user</span>   <span class="o">=</span> <span class="s">"root"</span>
  <span class="n">db</span><span class="o">.</span><span class="n">pswd</span>   <span class="o">=</span> <span class="s">"123456789"</span>

</code></pre>
</div>						
				<div class="alert alert-info text-left" role="alert">
					<ol>
					  <li>On windows the user directory is typically <strong>c:/users/{username}</strong></li>
					  <li>The folder path for the file in user directory should be: <strong>{username}/{company}/{app}/{filename}</strong></li>
					  <li>Example file is: <strong>kreddy/.codehelix/sampleapp1/database.conf</strong></li>			
					</ol>
				</div>
				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<a href="kotlin-mod-config.html" class="more"><span class="btn btn-template">See config component for more info</span></a>
				<br/><br/><br/>
            </div>	
			<div class="container">			
				<h1 id="app-settings">Settings</h1>
				<p>Settings are stored either in the common config environment specific configs. 
				You can create settings for things like database settings, logging settings, etc. 
				These settings can be setup in either:
				<ol>
					<li>common config <strong>/resources/env.conf</strong> - shared by all environments.</li>
					<li>environment config <strong>/resources/env.dev.conf</strong> - specific to environment and overrides common config</li>
					<li>external config file in user dir <strong>kreddy/mycompany/app1/log.conf</strong></li>
				</ol>
				<br/>
				</p>
				<table class="table table-bordered table-striped">
					<tr class="">
						<td><strong>Area</strong></td>
						<td><strong>Prefix</strong></td>
						<td><strong>Example</strong></td>
						<td><strong>Location</strong></td>
						<td><strong>Desc</strong></td>
					</tr>
					<tr>
						<td><strong>Env</strong></td>
						<td>env</td>
						<td>env.name</td>
						<td>env.conf</td>
						<td>Environment selection ( dev, qa1, stg, pro )</td>
					</tr>
					<tr>
						<td><strong>Database</strong></td>
						<td>db</td>
						<td>db.url</td>
						<td>env conf or userdir:db-dev.conf</td>
						<td>Database settings including, driver, db name, user, password</td>
					</tr>
					<tr>
						<td><strong>Logging</strong></td>
						<td>log</td>
						<td>log.level</td>
						<td>env conf or userdir:log.conf</td>
						<td>The logging configuration, log level, enabled, file name</td>
					</tr>
					<tr>
						<td><strong>Encryption</strong></td>
						<td>enc</td>
						<td>enc.enabled</td>
						<td>env conf or userdir:log.conf</td>
						<td>The logging configuration, log level, enabled, file name</td>
					</tr>
					<tr>
						<td><strong>AWS</strong></td>
						<td>aws</td>
						<td>aws.key</td>
						<td>env conf or userdir:aws.conf</td>
						<td>AWS configuration including the key, password</td>
					</tr>
				</table>
				<h3>Accessing</h3>
				<p>To access any of the settings you can use the <strong>conf</strong> data member which is a thin wrapper around the typesafe config.
					However, it supports inherited configs by loading both the common config <strong>/resources/env.conf</strong> and the 
					environment specific config <strong>/resources/env.qa.conf</strong></p>
				</p>
				<div class="highlighter-rouge"><pre class="highlight"><code>
  <span class="c1">// The conf is an inherited config that loads the environment
</span>  <span class="c1">// specific config ( env.qa.conf ) plus with the common config ( env.conf )
</span>  <span class="c1">// It is a decorated config container that first checks for a setting in
</span>  <span class="c1">// the environment specific for an overriden value before checking the common config.
</span>  <span class="n">println</span> <span class="o">(</span> <span class="n">conf</span><span class="o">.</span><span class="n">getString</span><span class="o">(</span><span class="s">"app.name"</span><span class="o">)</span> <span class="o">)</span>
  <span class="n">println</span> <span class="o">(</span> <span class="n">conf</span><span class="o">.</span><span class="n">getBool</span><span class="o">(</span><span class="s">"log.enabled"</span><span class="o">)</span> <span class="o">)</span>

  <span class="c1">// The dbCon convenience method load up a database connection with
</span>  <span class="c1">// driver:String, url:String, user:String, password:String
</span>  <span class="c1">// the keys are expected to be:
</span>  <span class="c1">// db.driver      = "com.mysql.jdbc.Driver"
</span>  <span class="c1">// db.url         = "jdbc:mysql://localhost/db1"
</span>  <span class="c1">// db.user        = "root"
</span>  <span class="c1">// db.pswd        = "123456789"
</span>  <span class="k">val</span> <span class="n">dbCon</span> <span class="k">=</span> <span class="n">conf</span><span class="o">.</span><span class="n">dbCon</span><span class="o">()</span>
  <span class="n">println</span><span class="o">(</span> <span class="n">dbCon</span> <span class="o">)</span>

  <span class="c1">// NOTE: For more details on how to load configs and db connections from the config
</span>  <span class="c1">// refer to the Example_Configs.scala example
</span> 
</code></pre>
</div>
				<div class="alert alert-danger text-left" role="alert">
					<i class="fa fa-warning"></i>
					<ol>
					  <li>It is recommended to <strong>encrypt</strong> settings ( see the config component in utils for more info )</li>
					  <li>It is also recommended to store <strong>Database</strong>, <strong>AWS</strong> and other sensitive settings in separate files in the <strong>user directory</strong></li>
					   <li>Check the <strong><a class="url-ch" href="kotlin-mod-config.html">Config</a></strong> component for more examples of using config files, encryption, and getting database settings</li>
					</ol>
				</div>
				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<br/><br/><br/>
            </div>	
			
			<div class="container">
				<h1 id="app-arguments">Arguments</h1>
				<p>You can setup command line args for your application by building an argument schema. 
				This uses the <strong>Args</strong> component from Slate Kit Utilities</p>
				<div class="alert alert-warning text-left" role="alert">
					<p><i class="fa fa-link"></i> This feature uses the <strong><a href="kotlin-mod-args.html" class="url-ch">Args</a></strong> component in utils for parsing command line arguments.
					</p>
				</div>
				
				<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// APPROACH 2: Automatically build the AppContext using the AppRunner.build function
// that will check the command line args for selected environment and other info
// 1. args      : command line arguments
// 2. enc       : the encryptor to handle encryption and decryption of args/settings etc.
// 3. schema    : the schema representing allowed command line arguments
// 4. converter : a callback to convert/modify the application 1 last time before it is
//                finally supplied to your SampleApp constructor.
// NOTES:
// - Ensure your config files are available e.g. resources/env.conf
// - Env : By default, the first supported environment is used which is local "env.local"
// - Conf: By default, the config file associated w/ the environment is loaded "env.local.conf"
// - You can store info about the your app in your config file and that can be loaded.
</span><span class="kd">val</span> <span class="py">res</span> <span class="p">=</span> <span class="n">AppRunner</span><span class="p">.</span><span class="n">run</span> <span class="p">(</span> 
    <span class="n">SampleApp</span> <span class="p">(</span>
        <span class="n">AppRunner</span><span class="p">.</span><span class="n">build</span> <span class="p">(</span>
            <span class="n">args</span>      <span class="p">=</span> <span class="n">args</span><span class="p">,</span>
            <span class="n">enc</span>       <span class="p">=</span> <span class="n">Encryptor</span><span class="p">(</span><span class="s">"wejklhviuxywehjk"</span><span class="p">,</span> <span class="s">"3214maslkdf03292"</span><span class="p">),</span>
            <span class="n">schema</span>    <span class="p">=</span>  <span class="n">ArgsSchema</span><span class="p">()</span>
                        <span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s">"env"</span>      <span class="p">,</span> <span class="s">"the environment "</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s">"dev"</span>  <span class="p">,</span> <span class="s">"dev"</span>  <span class="p">,</span> <span class="s">"loc|dev|qa1"</span> <span class="p">)</span>
                        <span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s">"log.level"</span><span class="p">,</span> <span class="s">"the log level"</span>   <span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s">"info"</span> <span class="p">,</span> <span class="s">"info"</span> <span class="p">,</span> <span class="s">"debug|info"</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="k">return</span> <span class="n">res</span>
</code></pre>
</div>
				<div class="alert alert-info text-left" role="alert">
					<i class="fa fa-info-circle"></i>
					<ol>
					  <li>The syntax for command line args is <strong>{app} -name=value</strong></li>
					  <li>Example is <strong>java -jar sampleapp.jar -env='loc.dev' -log.level=info -region='ny'</strong></li>
					</ol>
				</div>
			<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
			<br/><br/><br/>
			</div>
			<div  class="container">
				<h1 id="app-info">About</h1>
				<p>You can add information about an app which can be displayed in command line help. <br/>There are 2 ways of doing this: ( see below ).</p>
								
				<div class="alert alert-warning text-left" role="alert">
					<p><i class="fa fa-link"></i> This feature uses the <strong><a href="kotlin-mod-info.html" class="url-ch">About</a></strong> component to the Info package of the utils.
					</p>
				</div>
				
				
				<h3>Option 1</h3>
				<p>Option 1 is the easiest way and more configurable by simple setting the following values in the <strong>env.conf</strong>
				common config. Slate Kit will automaticall check for the app information here</p>
<div class="highlighter-rouge"><pre class="highlight"><code>
  <span class="c"># environment selection</span>
  <span class="c"># this can be overriden on the commandline via -env=qa</span>
  <span class="n">env</span> <span class="o">=</span> <span class="s">"loc"</span>

  <span class="c"># This config file is :</span>
  <span class="c"># 1. common to all other config files</span>
  <span class="c"># 2. inherited by all other config files.</span>
  <span class="c"># 3. settings can be overriden in the derived files.</span>
  <span class="c"># these can be overriden in each of the environment specific config files</span>
  <span class="c"># e.g.</span>
  <span class="c"># dev = env.dev.conf ( development )</span>
  <span class="n">app</span><span class="o">.</span><span class="nb">id</span>      <span class="o">=</span> <span class="s">"slate.examples"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">company</span> <span class="o">=</span> <span class="s">"codehelix"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">name</span>    <span class="o">=</span> <span class="s">"Sample App"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">desc</span>    <span class="o">=</span> <span class="s">"Sample console application to show the base application features"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">region</span>  <span class="o">=</span> <span class="s">"ny"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="s">"0.9.1"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">url</span>     <span class="o">=</span> <span class="s">"http://sampleapp.slatekit.com"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">group</span>   <span class="o">=</span> <span class="s">"codehelix.co"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">contact</span> <span class="o">=</span> <span class="s">"kishore@abc.co"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">tags</span>    <span class="o">=</span> <span class="s">"slate,shell,cli"</span>
  <span class="n">app</span><span class="o">.</span><span class="n">examples</span> <span class="o">=</span> <span class="s">"sampleapp -env=dev -log.level=debug -region='ny' -enc=false"</span>

</code></pre>
</div>			
				<br/>
				<h3>Option 2</h3>
				<p>Documentation coming soon</p>
				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<br/><br/><br/>
			</div>
			<div class="container">
				<h1 id="app-help">Help Docs</h1>
				<p>With the command line args and About metadata in place, you can display application help/docs. When your app is run on the command line with either <strong>?</strong>, <strong>help</strong> or <strong>-about</strong>, the metadata will be printed.</p>
				<pre><code class="language-bat">
 ==============================================
 ABOUT
 name     :  Sample App
 desc     :  Sample console application to show the base application features
 group    :  codehelix.co
 region   :  ny
 url      :  http://sampleapp.slatekit.com
 contact  :  kishore@codehelix.co
 version  :  0.9.1
 tags     :  slate,shell,cli
 examples :  sampleapp -env=dev -log.level=debug -region='ny' -enc=false
 ==============================================

 ARGS
 -env     :  the environment to run in
             ! required  [String]  e.g. dev
 -log     :  the log level for logging
             ? optional  [String]  e.g. info
 -enc     :  whether encryption is on
             ? optional  [String]  e.g. false
 -region  :  the region linked to app
             ? optional  [String]  e.g. us
			 
</code></pre>
				<h3>Usage</h3>
				<p>You can have the help displayed by running your app with the following parameters on the command line</p>
				<div class="highlighter-rouge"><pre class="highlight"><code>	
  <span class="n">java -jar sampleapp.jar </span> <span class="o">?</span>
  <span class="n">java -jar sampleapp.jar </span> <span class="n">help</span>
  <span class="n">java -jar sampleapp.jar </span> <span class="n">about</span> 
  
</code></pre>
</div>
				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<br/><br/><br/>
			</div>
			<div class="container">
				<h1 id="app-context">Context</h1>
				<p>Every application ( Console, CLI, Server ) is setup with a AppContext that contains many common services.
				</p>				
				<div class="alert alert-warning text-left" role="alert">
					<p><i class="fa fa-link"></i> This feature uses the <strong><a href="kotlin-mod-ctx.html" class="url-ch">Context</a></strong> component to contain common dependencies and services.
					</p>
				</div>
				<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">val</span> <span class="py">ctx</span> <span class="p">=</span> <span class="n">AppContext</span><span class="p">(</span>
                <span class="n">arg</span> <span class="p">=</span> <span class="n">Args</span><span class="p">.</span><span class="n">default</span><span class="p">(),</span>
                <span class="n">env</span> <span class="p">=</span> <span class="n">conf</span><span class="p">.</span><span class="n">env</span><span class="p">(),</span>
                <span class="n">cfg</span> <span class="p">=</span> <span class="n">conf</span><span class="p">,</span>
                <span class="n">log</span> <span class="p">=</span> <span class="n">LoggerConsole</span><span class="p">(),</span>
                <span class="n">ent</span> <span class="p">=</span> <span class="n">Entities</span><span class="p">(),</span>
                <span class="n">dbs</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span>
                <span class="n">enc</span> <span class="p">=</span> <span class="n">Encryptor</span><span class="p">(</span><span class="s">"wejklhviuxywehjk"</span><span class="p">,</span> <span class="s">"3214maslkdf03292"</span><span class="p">),</span>
                <span class="n">inf</span> <span class="p">=</span> <span class="n">About</span><span class="p">(</span>
                        <span class="n">id</span> <span class="p">=</span> <span class="s">"slatekit.examples"</span><span class="p">,</span>
                        <span class="n">name</span> <span class="p">=</span> <span class="s">"Slate Sample App"</span><span class="p">,</span>
                        <span class="n">desc</span> <span class="p">=</span> <span class="s">"Sample to show the base application with manually built context"</span><span class="p">,</span>
                        <span class="n">company</span> <span class="p">=</span> <span class="s">"slatekit"</span><span class="p">,</span>
                        <span class="n">version</span> <span class="p">=</span> <span class="s">"0.9.1"</span><span class="p">,</span>
                        <span class="n">contact</span> <span class="p">=</span> <span class="s">"kishore@abc.co"</span><span class="p">,</span>
                        <span class="n">region</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
                        <span class="n">group</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
                        <span class="n">url</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
                        <span class="n">tags</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
                        <span class="n">examples</span> <span class="p">=</span> <span class="s">""</span>
                <span class="p">),</span>
                <span class="n">state</span> <span class="p">=</span> <span class="n">success</span><span class="p">(</span><span class="k">true</span><span class="p">,</span> <span class="s">"manually built"</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre>
</div>
			
				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<br/><br/><br/>
			</div>			
			<div class="container">			
				<h1 id="app-life-cycle">Life-cycle</h1>
				<p>The application has 4-5 life-cycle events you can hook into.</p>
				</p>
				<table class="table table-bordered table-striped">
					<tr class="">
						<td><strong>Step</strong></td>
						<td><strong>Method</strong></td>
						<td><strong>Desc</strong></td>
					</tr>
					<tr>
						<td><strong>1. Check</strong></td>
						<td>check()</td>
						<td>AppRunner checks the command line args against the apps args schema</td>
					</tr>
					<tr>
						<td><strong></strong></td>
						<td>args()</td>
						<td>AppRunner supplies the parsed command line args to app process's args method</td>
					</tr>
					<tr>
						<td><strong>2. Initialize</strong></td>
						<td>init()</td>
						<td>Initialize your application</td>
					</tr>
					<tr>
						<td><strong></strong></td>
						<td>onInit()</td>
						<td>Hook for derived class to implement extra initialization</td>
					</tr>
					<tr>
						<td><strong>3. Execute</strong></td>
						<td>execute()</td>
						<td>Execute the code for your application.</td>
					</tr>
					<tr>
						<td><strong></strong></td>
						<td>onExecute()</td>
						<td>Hook for derived class to implement actual work</td>
					</tr>
					<tr>
						<td><strong>4. Shutdown</strong></td>
						<td>end()</td>
						<td>Shuts down your application</td>
					</tr>
					<tr>
						<td><strong></strong></td>
						<td>onEnd()</td>
						<td>Hook for derived class to implement shutdown</td>
					</tr>
				</table>
				<br/>			
				
				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<br/><br/><br/>
			</div>	
			
			<div class="container">	
				<h1 id="app-exec">Execution</h1>
				<p>You can run your application using the <strong>AppRunner</strong> convenience class. 
				It handles various boiler-plate operations ( more info below ).
				</p>			
				<br/>
				<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// APPROACH 2: Automatically build the AppContext using the AppRunner.build function
// that will check the command line args for selected environment and other info
// 1. args      : command line arguments
// 2. enc       : the encryptor to handle encryption and decryption of args/settings etc.
// 3. schema    : the schema representing allowed command line arguments
// 4. converter : a callback to convert/modify the application 1 last time before it is
//                finally supplied to your SampleApp constructor.
// NOTES:
// - Ensure your config files are available e.g. resources/env.conf
// - Env : By default, the first supported environment is used which is local "env.local"
// - Conf: By default, the config file associated w/ the environment is loaded "env.local.conf"
// - You can store info about the your app in your config file and that can be loaded.
</span><span class="kd">val</span> <span class="py">res</span> <span class="p">=</span> <span class="n">AppRunner</span><span class="p">.</span><span class="n">run</span> <span class="p">(</span> 
    <span class="n">SampleApp</span> <span class="p">(</span>
        <span class="n">AppRunner</span><span class="p">.</span><span class="n">build</span> <span class="p">(</span>
            <span class="n">args</span>      <span class="p">=</span> <span class="n">args</span><span class="p">,</span>
            <span class="n">enc</span>       <span class="p">=</span> <span class="n">Encryptor</span><span class="p">(</span><span class="s">"wejklhviuxywehjk"</span><span class="p">,</span> <span class="s">"3214maslkdf03292"</span><span class="p">),</span>
            <span class="n">schema</span>    <span class="p">=</span>  <span class="n">ArgsSchema</span><span class="p">()</span>
                        <span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s">"env"</span>      <span class="p">,</span> <span class="s">"the environment "</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s">"dev"</span>  <span class="p">,</span> <span class="s">"dev"</span>  <span class="p">,</span> <span class="s">"loc|dev|qa1"</span> <span class="p">)</span>
                        <span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s">"log.level"</span><span class="p">,</span> <span class="s">"the log level"</span>   <span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="s">"info"</span> <span class="p">,</span> <span class="s">"info"</span> <span class="p">,</span> <span class="s">"debug|info"</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="k">return</span> <span class="n">res</span>
</code></pre>
</div>
				<br/>
				<h3>App Runner</h3>
				<p>The AppRunner class is a convenience class for executing your application. 
				It handles various boiler-plate operations such as below:</p>
				<table class="table table-bordered table-striped">
					<tr>
						<td><strong>Operation</strong></td>
						<td><strong>Description</strong></td>
					</tr>
					<tr>
						<td><strong>Args</strong></td>
						<td>Validating command line args against your argument schema</td>
					</tr>
					<tr>
						<td><strong>Env</strong></td>
						<td>Validating the selected environment ( dev, qa, uat, pro ), either from command line or config file</td>
					</tr>
					<tr>
						<td><strong>Conf</strong></td>
						<td>Loading the appropriate environment specific config</td>
					</tr>
					<tr>
						<td><strong>Context</strong></td>
						<td>Building up the <strong><a href="kotlin-mod-ctx.html" class="url-ch">Context</a></strong> for your application</td>
					</tr>
					<tr>
						<td><strong>Help</strong></td>
						<td>Displaying help info based on the arg schema if args are invalid</td>
					</tr>
					<tr>
						<td><strong>Errors</strong></td>
						<td>Handling errors at the top-level and displaying help info</td>
					</tr>
					<tr>
						<td><strong>Override</strong></td>
						<td>Handling command line overrides for environment, log file.</td>
					</tr>
				</table>		
				<div class="alert alert-warning text-left" role="alert">
					<p><i class="fa fa-link"></i>
					Refer to <strong><a href="https://github.com/code-helix/slatekit/blob/master/src/lib/scala/Slate.Core/src/main/scala/slate/core/app/AppRunner.scala" class="url-ch">AppRunner.scala</a></strong> 
					and <strong><a href="https://github.com/code-helix/slatekit/blob/master/src/lib/scala/Slate.Core/src/main/scala/slate/core/app/AppFuncs.scala" class="url-ch">AppFuncs.scala</a></strong> .
					</p>
				</div>
				<br/>
				<h3>Run using Java</h3>
				<p>To run the application on the command line with java ( assumes all the other dependent jars are in the same folder )</p>
				<div class="highlighter-rouge"><pre class="highlight"><code>	
  <span class="n">java -jar sampleapp.jar </span> <span class="o">-env='qa1:qa'</span>
  <span class="n">java -jar sampleapp.jar </span> <span class="n">-env='loc:dev' -log.level=debug</span>
  <span class="n">java -jar sampleapp.jar </span> <span class="n">-env='dev:dev' -log.level=info</span> 
  <span class="n">java -cp "%CLASSPATH%" sampleapp.batch.SampleAppBatch </span> <span class="n">-env='dev:dev' -log.level=info</span> 
</code></pre>
</div>
				<br/>
				<h3>Run using Kotlin</h3>
				<p>To run the application on the command line Kotlin ( assumes all the other dependent jars are in the same folder )</p>
				<div class="highlighter-rouge"><pre class="highlight"><code>	  
  <span class="n">scala -classpath "sampleapp.jar" sampleapp.batch.SampleAppRunner</span> <span class="o">-env='qa1:qa'</span>
  <span class="n">scala -classpath "sampleapp.jar" sampleapp.batch.SampleAppRunner</span> <span class="n">-env='loc:dev' -log.level=debug</span>
  <span class="n">scala -classpath "sampleapp.jar" sampleapp.batch.SampleAppRunner</span> <span class="n">-env='dev:dev' -log.level=info</span> 
</code></pre>
</div>

				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<br/><br/><br/>
            </div>	
<div class="container">	
				<h1 id="app-output">Output</h1>
				<p>You can setup the app to display information about the app, settings, and diagnostics before and after execution of the app.</p>
				</p>	
				<h3>Customize</h3>
				<p>To add any extra diagnostics to the app, you can override the collectSummaryExtra method</p>
				<div class="highlighter-rouge"><pre class="highlight"><code>  
      <span class="cm">/**
       * template method: allows you to build up info to show in the summary
       * displayed at the end of the application
       */</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">collectSummaryExtra</span><span class="p">():</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Pair</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&gt;&gt;?</span> <span class="p">{</span>
          <span class="k">return</span> <span class="n">listOf</span><span class="p">(</span>
                  <span class="n">Pair</span><span class="p">(</span><span class="n">ctx</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">about</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="s">" extra 1  = extra summary data1"</span><span class="p">),</span>
                  <span class="n">Pair</span><span class="p">(</span><span class="n">ctx</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">about</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="s">" extra 2  = extra summary data2"</span><span class="p">)</span>
          <span class="p">)</span>
      <span class="p">}</span>
</code></pre>
</div>
				
				<h3>Log</h3>
				<p>This is the output of the application</p>
				<pre><code class="language-bat"> Info  : app executing now
 Info  : app completed
 Info  : app shutting down
 Info  : ===============================================================
 Info  : SUMMARY :
 Info  : ===============================================================
 Info  : name              = Slate Sample App
 Info  : desc              = Sample to show the base application
 Info  : version           = 0.9.1
 Info  : tags              =
 Info  : group             =
 Info  : region            =
 Info  : contact           = kishore@abc.co
 Info  : url               =
 Info  : args              =
 Info  : env               = dev
 Info  : config            = env.conf
 Info  : log               = local:dev
 Info  : started           = 2017-07-11T11:54:13.132-04:00[America/New_York]
 Info  : ended             = 2017-07-11T11:54:18.408-04:00[America/New_York]
 Info  : duration          = PT5.276S
 Info  : status            = ended
 Info  : errors            = 0
 Info  : error             = n/a
 Info  : host.name         = KRPC1
 Info  : host.ip           =
 Info  : host.origin       = Windows 10
 Info  : host.version      = 10.0
 Info  : lang.name         = kotlin
 Info  : lang.version      = 1.8.0_91
 Info  : lang.vendor       = Oracle Corporation
 Info  : lang.java         = local
 Info  : lang.home         = C:/Tools/Java/jdk1.8.0_91/jre
 Info  : Slate Sample App =  extra 1  = extra summary data1
 Info  : Slate Sample App =  extra 2  = extra summary data2
 Info  : ===============================================================

</code></pre>
				<a href="#app-overview" class="more"><span class="btn btn-template">Back to top</span></a>
				<br/><br/><br/>
            </div>	

              </div>
          </section>
          <!--=============== /. About Section ===============-->


          

          

    
           <!--=============== Footer ===============-->
           <footer id="main-footer" class="main-footer">
               <div class="container text-center">

                   <!-- Brand -->
                   <div class="logo">
                       <strong class="brand-text">Slate Kit</strong>
                   </div>
                   <!-- Description -->
                   <p class="description">Connect with us on our various channels and reach out for more info.</p>

                   <!-- Social Icons Menu -->
                   <ul class="social list-inline">
                       <li class="list-inline-item">
                           <a href="#" title="Facebook" target="_blank"><i class="fa fa-facebook"></i></a>
                       </li>
                       <li class="list-inline-item">
                           <a href="#" title="Twitter" target="_blank"><i class="fa fa-twitter"></i></a>
                       </li>
                       <li class="list-inline-item">
                           <a href="#" title="Google Plus" target="_blank"><i class="fa fa-google-plus"></i></a>
                       </li>
                       <li class="list-inline-item">
                           <a href="#" title="Instagram" target="_blank"><i class="fa fa-instagram"></i></a>
                       </li>
                   </ul>
               </div>

              <!-- Copyrights -->
               <div class="copyrights">
                   <div class="container">
                       <div class="row">
                           <div class="col-md-6">
                               <p>&copy; 2017 <span class="text-primary">Perfo.com</span> All Rights Reserved.</p>
                           </div>
                           <div class="col-md-6 text-right">
                               <ul class="list-inline">
                                   <li class="list-inline-item"><a href="#">FAQ</a></li>
                                   <li class="list-inline-item"><a href="#">Terms Of Services</a></li>
                                   <li class="list-inline-item"><a href="#">Policy &amp; Privacy</a></li>
                               </ul>
                           </div>
                       </div>
                   </div>
               </div> <!-- End Copyrights -->
           </footer>
           <!--=============== /. Footer ===============-->


           <!--=============== Preloader ===============-->
           <div class="preloader d-flex align-items-center justify-content-center flex-column">
                <div class="la-square-jelly-box la-2x">
                    <div></div>
                    <div></div>
                </div>
                <div class="text">Slate Kit</div>
           </div>
           <!--=============== /. Preloader ===============-->


           <!--=============== Scroll To Top ===============-->
           <div id="scrollTop">
               <div class="d-flex align-items-center justify-content-end">
                   <i class="fa fa-long-arrow-up"></i>
                   <span>To Top</span>
               </div>
           </div>
           <!--=============== /. Scroll To Top ===============-->
      </div>



        <!-- jQuery CDN -->
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <!-- Tether CDN [Reuired for Bootstrap 4 tooltip] -->
        <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
        <!-- Bootstrap 4 Alpha -->
        <script src="themes/perfo/assets/js/bootstrap.min.js"></script>
        <!-- Owl Carousel -->
        <script src="themes/perfo/assets/js/owl.carousel.min.js"></script>
        <!-- Easy Scroll -->
        <script src="themes/perfo/assets/js/easyscroll.min.js"></script>
        <!-- WOW JS -->
        <script src="themes/perfo/assets/js/wow.min.js"></script>
        <!-- Custom Js -->
        <script src="themes/perfo/assets/js/script.js"></script>

        <script type="text/javascript">
          var _codehelixAppPage = "infra";
        </script>
          <script type="text/javascript" src="themes/perfo/app/app.js"></script>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-84704317-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
